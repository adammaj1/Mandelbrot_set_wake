/*
https://www.programmingsimplified.com/c/source-code/c-substring
C substring program using pointers
To find substring we create a substring function which returns a pointer to string. String address, required length of substring and position from where to extract substring are the three arguments passed to function.





sIn	 0000000000000000000000010
sOut	 0000000000000000000000100
sOut	 0000000000000000000001000
sOut	 0000000000000000000010000
sOut	 0000000000000000000100000
sOut	 0000000000000000001000000
sOut	 0000000000000000010000000
sOut	 0000000000000000100000000
sOut	 0000000000000001000000000
sOut	 0000000000000010000000000
sOut	 0000000000000100000000000
sOut	 0000000000001000000000000
sOut	 0000000000010000000000000
sOut	 0000000000100000000000000
sOut	 0000000001000000000000000
sOut	 0000000010000000000000000
sOut	 0000000100000000000000000
sOut	 0000001000000000000000000
sOut	 0000010000000000000000000
sOut	 0000100000000000000000000
sOut	 0001000000000000000000000
sOut	 0010000000000000000000000
sOut	 0100000000000000000000000
sOut	 1000000000000000000000000
sOut	 0000000000000000000000001
sOut	 0000000000000000000000010
sOut	 0000000000000000000000100
sOut	 0000000000000000000001000
sOut	 0000000000000000000010000
sOut	 0000000000000000000100000
sOut	 0000000000000000001000000
sOut	 0000000000000000010000000
sOut	 0000000000000000100000000
sOut	 0000000000000001000000000
sOut	 0000000000000010000000000
sOut	 0000000000000100000000000
sOut	 0000000000001000000000000
sOut	 0000000000010000000000000
sOut	 0000000000100000000000000
sOut	 0000000001000000000000000
sOut	 0000000010000000000000000
sOut	 0000000100000000000000000
sOut	 0000001000000000000000000
sOut	 0000010000000000000000000
sOut	 0000100000000000000000000
sOut	 0001000000000000000000000
sOut	 0010000000000000000000000
sOut	 0100000000000000000000000
sOut	 1000000000000000000000000
sOut	 0000000000000000000000001

===========================
sIn	 0000000000000000000000010
sOut	 0000000000000000000000100 	 0
sOut	 0000000000000000000001000 	 0
sOut	 0000000000000000000010000 	 0
sOut	 0000000000000000000100000 	 0
sOut	 0000000000000000001000000 	 0
sOut	 0000000000000000010000000 	 0
sOut	 0000000000000000100000000 	 0
sOut	 0000000000000001000000000 	 0
sOut	 0000000000000010000000000 	 0
sOut	 0000000000000100000000000 	 0
sOut	 0000000000001000000000000 	 0
sOut	 0000000000010000000000000 	 0
sOut	 0000000000100000000000000 	 0
sOut	 0000000001000000000000000 	 0
sOut	 0000000010000000000000000 	 0
sOut	 0000000100000000000000000 	 0
sOut	 0000001000000000000000000 	 0
sOut	 0000010000000000000000000 	 0
sOut	 0000100000000000000000000 	 0
sOut	 0001000000000000000000000 	 0
sOut	 0010000000000000000000000 	 0
sOut	 0100000000000000000000000 	 0
sOut	 1000000000000000000000000 	 0
sOut	 0000000000000000000000001 	 0
sOut	 0000000000000000000000010 	 1
sOut	 0000000000000000000000100 	 1
sOut	 0000000000000000000001000 	 1
sOut	 0000000000000000000010000 	 1
sOut	 0000000000000000000100000 	 1
sOut	 0000000000000000001000000 	 1
sOut	 0000000000000000010000000 	 1
sOut	 0000000000000000100000000 	 1
sOut	 0000000000000001000000000 	 1
sOut	 0000000000000010000000000 	 1
sOut	 0000000000000100000000000 	 1
sOut	 0000000000001000000000000 	 1
sOut	 0000000000010000000000000 	 1
sOut	 0000000000100000000000000 	 1
sOut	 0000000001000000000000000 	 1
sOut	 0000000010000000000000000 	 1
sOut	 0000000100000000000000000 	 1
sOut	 0000001000000000000000000 	 1
sOut	 0000010000000000000000000 	 1
sOut	 0000100000000000000000000 	 1
sOut	 0001000000000000000000000 	 1
sOut	 0010000000000000000000000 	 1
sOut	 0100000000000000000000000 	 1
sOut	 1000000000000000000000000 	 1
sOut	 0000000000000000000000001 	 1
sOut	 0000000000000000000000010 	 2
sOut	 0000000000000000000000100 	 2
sOut	 0000000000000000000001000 	 2
sOut	 0000000000000000000010000 	 2
sOut	 0000000000000000000100000 	 2
sOut	 0000000000000000001000000 	 2
sOut	 0000000000000000010000000 	 2
sOut	 0000000000000000100000000 	 2
sOut	 0000000000000001000000000 	 2
sOut	 0000000000000010000000000 	 2
sOut	 0000000000000100000000000 	 2
sOut	 0000000000001000000000000 	 2
sOut	 0000000000010000000000000 	 2
sOut	 0000000000100000000000000 	 2
sOut	 0000000001000000000000000 	 2
sOut	 0000000010000000000000000 	 2
sOut	 0000000100000000000000000 	 2
sOut	 0000001000000000000000000 	 2
sOut	 0000010000000000000000000 	 2
sOut	 0000100000000000000000000 	 2
sOut	 0001000000000000000000000 	 2
sOut	 0010000000000000000000000 	 2
sOut	 0100000000000000000000000 	 2
sOut	 1000000000000000000000000 	 2
sOut	 0000000000000000000000001 	 2

====================================

sIn	 0000000000000000000000010
sOut	 0000000000000000000001000 	 0
sOut	 0000000000000000000100000 	 0
sOut	 0000000000000000010000000 	 0
sOut	 0000000000000001000000000 	 0
sOut	 0000000000000100000000000 	 0
sOut	 0000000000010000000000000 	 0
sOut	 0000000001000000000000000 	 0
sOut	 0000000100000000000000000 	 0
sOut	 0000010000000000000000000 	 0
sOut	 0001000000000000000000000 	 0
sOut	 0100000000000000000000000 	 0
sOut	 0000000000000000000000001 	 0
sOut	 0000000000000000000000100 	 1
sOut	 0000000000000000000010000 	 1
sOut	 0000000000000000001000000 	 1
sOut	 0000000000000000100000000 	 1
sOut	 0000000000000010000000000 	 1
sOut	 0000000000001000000000000 	 1
sOut	 0000000000100000000000000 	 1
sOut	 0000000010000000000000000 	 1
sOut	 0000001000000000000000000 	 1
sOut	 0000100000000000000000000 	 1
sOut	 0010000000000000000000000 	 1
sOut	 1000000000000000000000000 	 1
sOut	 0000000000000000000000010 	 2
sOut	 0000000000000000000001000 	 2
sOut	 0000000000000000000100000 	 2
sOut	 0000000000000000010000000 	 2
sOut	 0000000000000001000000000 	 2
sOut	 0000000000000100000000000 	 2
sOut	 0000000000010000000000000 	 2
sOut	 0000000001000000000000000 	 2
sOut	 0000000100000000000000000 	 2
sOut	 0000010000000000000000000 	 2
sOut	 0001000000000000000000000 	 2
sOut	 0100000000000000000000000 	 2
sOut	 0000000000000000000000001 	 2
sOut	 0000000000000000000000100 	 3
sOut	 0000000000000000000010000 	 3
sOut	 0000000000000000001000000 	 3
sOut	 0000000000000000100000000 	 3
sOut	 0000000000000010000000000 	 3
sOut	 0000000000001000000000000 	 3
sOut	 0000000000100000000000000 	 3
sOut	 0000000010000000000000000 	 3
sOut	 0000001000000000000000000 	 3
sOut	 0000100000000000000000000 	 3
sOut	 0010000000000000000000000 	 3
sOut	 1000000000000000000000000 	 3
sOut	 0000000000000000000000010 	 4
sOut	 0000000000000000000001000 	 4
sOut	 0000000000000000000100000 	 4
sOut	 0000000000000000010000000 	 4
sOut	 0000000000000001000000000 	 4
sOut	 0000000000000100000000000 	 4
sOut	 0000000000010000000000000 	 4
sOut	 0000000001000000000000000 	 4
sOut	 0000000100000000000000000 	 4
sOut	 0000010000000000000000000 	 4
sOut	 0001000000000000000000000 	 4
sOut	 0100000000000000000000000 	 4
sOut	 0000000000000000000000001 	 4
sOut	 0000000000000000000000100 	 5
sOut	 0000000000000000000010000 	 5
sOut	 0000000000000000001000000 	 5
sOut	 0000000000000000100000000 	 5
sOut	 0000000000000010000000000 	 5
sOut	 0000000000001000000000000 	 5
sOut	 0000000000100000000000000 	 5
sOut	 0000000010000000000000000 	 5
sOut	 0000001000000000000000000 	 5
sOut	 0000100000000000000000000 	 5
sOut	 0010000000000000000000000 	 5
sOut	 1000000000000000000000000 	 5

=======================

sIn	 0000000000000000000000010
sOut	 0000000000000000000010000 	 0
sOut	 0000000000000000010000000 	 0
sOut	 0000000000000010000000000 	 0
sOut	 0000000000010000000000000 	 0
sOut	 0000000010000000000000000 	 0
sOut	 0000010000000000000000000 	 0
sOut	 0010000000000000000000000 	 0
sOut	 0000000000000000000000001 	 0
sOut	 0000000000000000000001000 	 1
sOut	 0000000000000000001000000 	 1
sOut	 0000000000000001000000000 	 1
sOut	 0000000000001000000000000 	 1
sOut	 0000000001000000000000000 	 1
sOut	 0000001000000000000000000 	 1
sOut	 0001000000000000000000000 	 1
sOut	 1000000000000000000000000 	 1
sOut	 0000000000000000000000100 	 2
sOut	 0000000000000000000100000 	 2
sOut	 0000000000000000100000000 	 2
sOut	 0000000000000100000000000 	 2
sOut	 0000000000100000000000000 	 2
sOut	 0000000100000000000000000 	 2
sOut	 0000100000000000000000000 	 2
sOut	 0100000000000000000000000 	 2
sOut	 0000000000000000000000010 	 3
sOut	 0000000000000000000010000 	 3
sOut	 0000000000000000010000000 	 3
sOut	 0000000000000010000000000 	 3
sOut	 0000000000010000000000000 	 3
sOut	 0000000010000000000000000 	 3
sOut	 0000010000000000000000000 	 3
sOut	 0010000000000000000000000 	 3
sOut	 0000000000000000000000001 	 3
sOut	 0000000000000000000001000 	 4
sOut	 0000000000000000001000000 	 4
sOut	 0000000000000001000000000 	 4
sOut	 0000000000001000000000000 	 4
sOut	 0000000001000000000000000 	 4
sOut	 0000001000000000000000000 	 4
sOut	 0001000000000000000000000 	 4
sOut	 1000000000000000000000000 	 4
sOut	 0000000000000000000000100 	 5
sOut	 0000000000000000000100000 	 5
sOut	 0000000000000000100000000 	 5
sOut	 0000000000000100000000000 	 5
sOut	 0000000000100000000000000 	 5
sOut	 0000000100000000000000000 	 5
sOut	 0000100000000000000000000 	 5
sOut	 0100000000000000000000000 	 5


*/

#define _GNU_SOURCE // asprintf
#include <stdio.h>
#include <stdlib.h>
#include <string.h> // strlen 


 
/*C substring function: It returns a pointer to the substring */
 
char *substring(char *string, int position, int length)
{
   char *pointer;
   int c;
 
   pointer = malloc(length+1); // remember to free
   
   if (pointer == NULL)
   {
      printf("Unable to allocate memory.\n");
      exit(1);
   }
 
   for (c = 0 ; c < length ; c++)
   {
      *(pointer+c) = *(string+position-1);      
      string++;  
   }
 
   *(pointer+c) = '\0';
 
   return pointer;
}


// shifting N places left
char *LeftShift(char *sIn, int n){

	// lengthIn = length1+length2
	int lengthIn= strlen(sIn);
	int length1 = n;
	int length2 = lengthIn - n+1 ;
	
	
	// sIn = s1s2 
	char *s1 = substring(sIn,1, length1); 
    	char *s2 = substring(sIn,n+1, length2 ); 
    	//
    	//printf("s1\t %s\n", s1);
 	//printf("s2\t %s\n", s2);
    	
    	// sOut = shift(sIn, n) = s2s1
    	char *sOut = ""; 
    	//int lengthOut = 
    	asprintf(&sOut, "%s%s", s2, s1);
    	

	return sOut; 


} 


 
int main()
{

	
    	char *sIn = "0000000000000000000000010"; 
    	char *sOut  = ""; 
	int Length = strlen(sIn);

	int n;
	int dn = 3; // step : n = n + dn; dn < length  

   	int i ;
   	int iMax = 2*Length;
   	
   	
   	div_t result; // integer division
	
   	
   	
 	printf("sIn\t %s\n", sIn);
  	
  	for (i=1; i< iMax; i++){
  		
  		n = i*dn;
  		result = div (n , Length); // re
  		n = result.rem  ; // i % Length;
  		sOut = LeftShift(sIn, n );
  		printf("sOut\t %s \t %d\n", sOut, result.quot);
  		}
 	
   	return 0;
}

